<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <title>åœ£è¯å¿«ä¹ Â· Christmas Wonderland</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="/js/i18n.js"></script>

  <style>
    :root {
      --red: #ff4b5c;
      --dark-red: #c0392b;
      --green: #2ecc71;
      --dark-green: #145a32;
      --gold: #f1c40f;
      --bg: #0b1530;
      --bg-soft: rgba(13, 24, 56, 0.9);
      --card-bg: rgba(255, 255, 255, 0.08);
      --text-main: #ffffff;
      --text-muted: #d0d7ff;
      --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.45);
      --radius-xl: 22px;
      --radius-xxl: 28px;
      --transition-fast: 0.2s ease-out;
      --transition-med: 0.35s ease;
    }

    body.dark-theme {
      --bg: #050816;
      --bg-soft: rgba(5, 8, 22, 0.96);
      --card-bg: rgba(13, 24, 56, 0.96);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      min-height: 100vh;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
        sans-serif;
      color: var(--text-main);
      background:
        radial-gradient(circle at 10% 0, rgba(255, 255, 255, 0.05) 0, transparent 45%),
        radial-gradient(circle at 90% 0, rgba(255, 255, 255, 0.05) 0, transparent 45%),
        linear-gradient(135deg, #050816 0%, #0b1530 40%, #1b284f 80%, #2f3640 100%);
      overflow-x: hidden;
      scroll-behavior: smooth;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 90px 16px 80px;
    }

    /* é¡¶éƒ¨å¯¼èˆª */
    header {
      position: fixed;
      inset: 0 0 auto 0;
      z-index: 20;
      backdrop-filter: blur(16px);
      background: linear-gradient(
        to bottom,
        rgba(5, 8, 22, 0.96),
        rgba(5, 8, 22, 0.75),
        transparent
      );
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    .nav-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 10px 16px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 16px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      font-size: 14px;
    }

    .logo-icon {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: conic-gradient(
        from 0deg,
        #ff4b5c,
        #f1c40f,
        #2ecc71,
        #3498db,
        #ff4b5c
      );
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 18px rgba(255, 255, 255, 0.6);
      font-size: 18px;
    }

    nav ul {
      display: flex;
      list-style: none;
      gap: 12px;
      font-size: 13px;
      flex-wrap: wrap;
    }

    nav li a {
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.02);
      border: 1px solid transparent;
      transition: background var(--transition-fast),
        transform var(--transition-fast),
        border-color var(--transition-fast);
    }

    nav li a:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(241, 196, 15, 0.7);
      transform: translateY(-1px);
    }

    .nav-actions {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .chip-btn {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.15);
      background: rgba(0, 0, 0, 0.1);
      display: inline-flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
      transition: background var(--transition-fast),
        transform var(--transition-fast),
        border-color var(--transition-fast);
    }

    .chip-btn:hover {
      background: rgba(255, 255, 255, 0.08);
      border-color: rgba(241, 196, 15, 0.9);
      transform: translateY(-0.5px);
    }

    /* Language selector */
    #language-selector {
      font-size: 12px;
      padding: 6px 12px;
    }

    /* é€šç”¨æŒ‰é’® */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      border-radius: 999px;
      padding: 10px 18px;
      border: none;
      outline: none;
      cursor: pointer;
      font-weight: 600;
      font-size: 14px;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      box-shadow: var(--shadow-soft);
      background: linear-gradient(135deg, var(--red), var(--dark-red));
      color: #fff;
      transition: transform var(--transition-fast),
        box-shadow var(--transition-fast),
        filter var(--transition-fast);
    }

    .btn.secondary {
      background: linear-gradient(135deg, var(--green), var(--dark-green));
    }

    .btn.ghost {
      background: rgba(0, 0, 0, 0.3);
      box-shadow: 0 0 0 rgba(0, 0, 0, 0);
      border: 1px solid rgba(255, 255, 255, 0.2);
    }

    .btn:hover {
      transform: translateY(-2px) scale(1.01);
      filter: brightness(1.05);
    }

    .btn-icon {
      font-size: 16px;
    }

    /* Hero åŒºåŸŸ */
    #hero {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
      gap: 26px;
      margin-top: 24px;
      align-items: center;
    }

    .hero-text {
      padding: 24px 22px;
      background: var(--bg-soft);
      border-radius: var(--radius-xxl);
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(255, 255, 255, 0.12);
      position: relative;
      overflow: hidden;
    }

    .hero-text::before {
      content: "";
      position: absolute;
      inset: -40%;
      background:
        radial-gradient(circle at 0 0, rgba(255, 75, 92, 0.18), transparent 55%),
        radial-gradient(circle at 100% 0, rgba(46, 204, 113, 0.12), transparent 50%),
        radial-gradient(circle at 0 100%, rgba(241, 196, 15, 0.16), transparent 55%);
      opacity: 0.8;
      pointer-events: none;
    }

    .hero-content {
      position: relative;
      z-index: 1;
    }

    .hero-badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.3);
      font-size: 11px;
      margin-bottom: 10px;
    }

    .hero-title {
      font-size: clamp(28px, 4vw, 36px);
      line-height: 1.18;
      margin-bottom: 10px;
      font-weight: 800;
      letter-spacing: 0.03em;
    }

    .hero-title span {
      background: linear-gradient(135deg, #ffb347, #ffcc33, #ff4b5c);
      -webkit-background-clip: text;
      color: transparent;
    }

    .hero-subtitle {
      font-size: 14px;
      color: var(--text-muted);
      margin-bottom: 14px;
      max-width: 470px;
    }

    .hero-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 18px;
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
      font-size: 12px;
      color: var(--text-muted);
    }

    .hero-meta span {
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .hero-meta-dot {
      width: 6px;
      height: 6px;
      border-radius: 999px;
      background: #2ecc71;
      box-shadow: 0 0 10px rgba(46, 204, 113, 0.8);
    }

    /* å³ä¾§åœ£è¯å¡ç‰‡ */
    .hero-card {
      position: relative;
      border-radius: var(--radius-xxl);
      padding: 20px 18px 18px;
      background: radial-gradient(circle at 20% 0, #ff7675 0, #c0392b 40%, #0b1530 100%);
      box-shadow: var(--shadow-soft);
      overflow: hidden;
      border: 1px solid rgba(255, 255, 255, 0.18);
      color: #fff;
    }

    .hero-card::after {
      content: "";
      position: absolute;
      width: 220%;
      height: 220%;
      background-image:
        radial-gradient(circle at 10% 20%, rgba(255, 255, 255, 0.20) 0, transparent 45%),
        radial-gradient(circle at 80% 10%, rgba(255, 255, 255, 0.15) 0, transparent 45%);
      inset: auto;
      left: -60%;
      top: -100%;
      opacity: 0.6;
      pointer-events: none;
    }

    .hero-card-inner {
      position: relative;
      z-index: 1;
    }

    .hero-card-row {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 16px;
    }

    .hero-card-left h2 {
      font-size: 18px;
      margin-bottom: 6px;
    }

    .hero-card-left p {
      font-size: 12px;
      opacity: 0.9;
    }

    .tree {
      position: relative;
      width: 90px;
      height: 110px;
      margin-left: auto;
      filter: drop-shadow(0 12px 20px rgba(0, 0, 0, 0.6));
    }

    .tree-layer {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      border-radius: 6px;
      border-left: 45px solid transparent;
      border-right: 45px solid transparent;
      border-bottom: 40px solid #1abc9c;
    }

    .tree-layer:nth-child(1) {
      top: 0;
      border-bottom-color: #2ecc71;
    }

    .tree-layer:nth-child(2) {
      top: 25px;
    }

    .tree-layer:nth-child(3) {
      top: 50px;
      border-bottom-color: #16a085;
    }

    .tree-trunk {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 26px;
      height: 22px;
      background: #7b4b2a;
      border-radius: 4px;
    }

    .tree-star {
      position: absolute;
      top: -14px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 18px;
      filter: drop-shadow(0 0 4px rgba(241, 196, 15, 0.9));
    }

    .tree-light {
      position: absolute;
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #f1c40f;
      box-shadow: 0 0 4px rgba(255, 255, 200, 0.9);
      animation: twinkle 1.8s ease-in-out infinite alternate;
    }

    .tree-light:nth-child(1) { top: 20px; left: 40%; }
    .tree-light:nth-child(2) { top: 35px; left: 60%; animation-delay: .3s; }
    .tree-light:nth-child(3) { top: 50px; left: 30%; animation-delay: .6s; }
    .tree-light:nth-child(4) { top: 65px; left: 65%; animation-delay: .9s; }
    .tree-light:nth-child(5) { top: 80px; left: 35%; animation-delay: 1.2s; }

    @keyframes twinkle {
      from { transform: scale(0.9); opacity: 0.7; }
      to { transform: scale(1.15); opacity: 1; }
    }

    .hero-card-footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      font-size: 12px;
      margin-top: 6px;
    }

    .hero-mini-badges {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .mini-badge {
      padding: 4px 8px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.35);
      border: 1px solid rgba(255, 255, 255, 0.4);
      font-size: 11px;
    }

    /* åˆ†æ®µæ ‡é¢˜ */
    .section {
      margin-top: 40px;
      padding: 20px 18px;
      background: var(--bg-soft);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-soft);
      border: 1px solid rgba(255, 255, 255, 0.08);
      position: relative;
      overflow: hidden;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      margin-bottom: 14px;
      gap: 10px;
    }

    .section-title {
      font-size: 18px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .section-title span {
      font-size: 22px;
    }

    .section-subtitle {
      font-size: 12px;
      color: var(--text-muted);
    }

    /* å€’è®¡æ—¶ */
    .countdown-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(70px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .countdown-item {
      padding: 10px 8px;
      border-radius: 18px;
      background: radial-gradient(circle at 50% 0, rgba(255, 255, 255, 0.16), transparent 60%),
        rgba(0, 0, 0, 0.4);
      text-align: center;
      border: 1px solid rgba(255, 255, 255, 0.12);
    }

    .countdown-number {
      font-size: 22px;
      font-weight: 700;
    }

    .countdown-label {
      font-size: 11px;
      opacity: 0.8;
    }

    .countdown-footer {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 8px;
    }

    /* å¿ƒæ„¿å¢™ */
    .wishlist-layout {
      display: grid;
      grid-template-columns: minmax(0, 0.95fr) minmax(0, 1.05fr);
      gap: 16px;
    }

    .wishlist-form {
      padding: 12px;
      border-radius: 16px;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.12);
      display: grid;
      gap: 10px;
      font-size: 13px;
    }

    .form-row {
      display: grid;
      gap: 4px;
    }

    .form-row-inline {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    label {
      font-size: 12px;
      color: var(--text-muted);
    }

    input[type="text"],
    textarea,
    select {
      width: 100%;
      padding: 7px 9px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.24);
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      font-size: 13px;
      outline: none;
      transition: border-color var(--transition-fast),
        box-shadow var(--transition-fast);
    }

    textarea {
      border-radius: 16px;
      min-height: 70px;
      resize: vertical;
    }

    input:focus,
    textarea:focus,
    select:focus {
      border-color: var(--gold);
      box-shadow: 0 0 0 1px rgba(241, 196, 15, 0.5);
    }

    .toggle-group {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 12px;
    }

    .wishlist-list {
      max-height: 200px;
      overflow: auto;
      padding-right: 4px;
      display: grid;
      gap: 8px;
      font-size: 12px;
    }

    .wish-card {
      padding: 8px 9px;
      border-radius: 15px;
      background: rgba(0, 0, 0, 0.45);
      border: 1px solid rgba(255, 255, 255, 0.14);
      display: grid;
      gap: 3px;
    }

    .wish-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 6px;
      font-size: 11px;
    }

    .wish-name {
      font-weight: 600;
    }

    .wish-badge {
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 10px;
      border: 1px solid rgba(255, 255, 255, 0.3);
      background: rgba(46, 204, 113, 0.18);
    }

    .wish-badge.naughty {
      background: rgba(255, 75, 92, 0.24);
    }

    .wish-text {
      font-size: 12px;
    }

    .wish-time {
      font-size: 10px;
      color: var(--text-muted);
    }

    /* åœ£è¯æ—¥ç¨‹æ—¶é—´çº¿ */
    .timeline {
      position: relative;
      margin-top: 10px;
      padding-left: 12px;
      border-left: 1px dashed rgba(255, 255, 255, 0.2);
    }

    .timeline-item {
      position: relative;
      padding: 8px 0 8px 12px;
    }

    .timeline-bullet {
      position: absolute;
      left: -7px;
      top: 10px;
      width: 12px;
      height: 12px;
      border-radius: 999px;
      background: var(--gold);
      box-shadow: 0 0 0 3px rgba(241, 196, 15, 0.25);
    }

    .timeline-title {
      font-size: 13px;
      margin-bottom: 1px;
    }

    .timeline-meta {
      font-size: 11px;
      color: var(--text-muted);
      margin-bottom: 3px;
    }

    .timeline-desc {
      font-size: 11px;
      opacity: 0.9;
    }

    /* ç”»å»Š */
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 10px;
      margin-top: 10px;
    }

    .gallery-item {
      position: relative;
      overflow: hidden;
      border-radius: 18px;
      cursor: pointer;
      border: 1px solid rgba(255, 255, 255, 0.15);
      background: radial-gradient(circle at 0 0, #ff4b5c 0, #c0392b 40%, #0b1530 100%);
      min-height: 110px;
    }

    .gallery-item img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      filter: brightness(0.92);
      transition: transform var(--transition-med), filter var(--transition-med);
    }

    .gallery-item::after {
      content: attr(data-label);
      position: absolute;
      inset: auto 10px 10px 10px;
      padding: 4px 8px;
      border-radius: 999px;
      font-size: 11px;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(4px);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.4);
    }

    .gallery-item:hover img {
      transform: scale(1.06);
      filter: brightness(1);
    }

    /* ç”»å»Šå¼¹çª— */
    .lightbox {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.85);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 30;
    }

    .lightbox.active {
      display: flex;
    }

    .lightbox-inner {
      max-width: 90vw;
      max-height: 80vh;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 24px 60px rgba(0, 0, 0, 0.7);
      border: 1px solid rgba(255, 255, 255, 0.4);
      background: #000;
      position: relative;
    }

    .lightbox-inner img {
      max-width: 100%;
      max-height: 80vh;
      display: block;
    }

    .lightbox-close {
      position: absolute;
      top: 8px;
      right: 8px;
      background: rgba(0, 0, 0, 0.7);
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.5);
      padding: 4px 8px;
      font-size: 12px;
      cursor: pointer;
    }

    /* éŸ³ä¹åŒº */
    .music-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.15fr) minmax(0, 0.85fr);
      gap: 16px;
      align-items: center;
    }

    .playlist {
      display: grid;
      gap: 8px;
      font-size: 12px;
      max-height: 180px;
      overflow: auto;
      padding-right: 4px;
    }

    .song {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
      padding: 7px 9px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.18);
      background: rgba(0, 0, 0, 0.4);
      cursor: pointer;
      transition: background var(--transition-fast), transform var(--transition-fast);
    }

    .song:hover {
      background: rgba(255, 255, 255, 0.05);
      transform: translateY(-1px);
    }

    .song.active {
      background: linear-gradient(135deg, var(--green), var(--dark-green));
    }

    .song-main {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .song-title {
      font-weight: 600;
    }

    .song-artist {
      font-size: 11px;
      color: var(--text-muted);
    }

    .song-tag {
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.4);
      background: rgba(0, 0, 0, 0.3);
    }

    .music-player {
      padding: 12px;
      border-radius: 18px;
      background: rgba(0, 0, 0, 0.5);
      border: 1px solid rgba(255, 255, 255, 0.2);
      font-size: 12px;
    }

    .music-player-title {
      font-size: 13px;
      margin-bottom: 4px;
    }

    audio {
      width: 100%;
      margin-top: 6px;
    }

    /* å¾…åŠæ¸…å• */
    .todo-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.05fr) minmax(0, 0.95fr);
      gap: 16px;
    }

    .todo-input {
      display: flex;
      gap: 8px;
      margin-top: 6px;
    }

    .todo-input input {
      flex: 1;
    }

    .todo-list {
      margin-top: 10px;
      display: grid;
      gap: 6px;
      font-size: 12px;
      max-height: 200px;
      overflow: auto;
      padding-right: 4px;
    }

    .todo-item {
      display: flex;
      align-items: center;
      gap: 7px;
      padding: 7px 9px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.4);
      border: 1px solid rgba(255, 255, 255, 0.16);
    }

    .todo-item.done {
      opacity: 0.6;
      text-decoration: line-through;
    }

    .todo-item button {
      border-radius: 999px;
      border: none;
      padding: 3px 6px;
      font-size: 11px;
      cursor: pointer;
      background: rgba(0, 0, 0, 0.4);
      color: #fff;
    }

    /* è”ç³»åŒº */
    .contact-grid {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
      gap: 16px;
    }

    .contact-note {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 6px;
      line-height: 1.5;
    }

    .contact-highlights {
      display: grid;
      gap: 8px;
      font-size: 12px;
      margin-top: 6px;
    }

    .highlight-card {
      padding: 8px 10px;
      border-radius: 16px;
      background: rgba(0, 0, 0, 0.45);
      border: 1px solid rgba(255, 255, 255, 0.16);
    }

    footer {
      margin-top: 20px;
      padding: 12px;
      font-size: 11px;
      text-align: center;
      color: var(--text-muted);
    }

    /* é£˜é›ªæ•ˆæœ */
    .snow-container {
      pointer-events: none;
      position: fixed;
      inset: 0;
      overflow: hidden;
      z-index: 5;
    }

    .snowflake {
      position: absolute;
      top: -10px;
      color: #fff;
      opacity: 0.8;
      filter: drop-shadow(0 0 4px rgba(255, 255, 255, 0.8));
      user-select: none;
      animation-name: fall;
      animation-timing-function: linear;
      animation-iteration-count: infinite;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) translateX(var(--x-move, 0));
      }
    }

    /* å·¥å…·æŒ‰é’® */
    .floating-tools {
      position: fixed;
      bottom: 18px;
      right: 16px;
      z-index: 25;
      display: grid;
      gap: 8px;
    }

    .floating-btn {
      border-radius: 999px;
      padding: 9px 10px;
      font-size: 11px;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(0, 0, 0, 0.5);
      color: #fff;
      border: 1px solid rgba(255, 255, 255, 0.3);
      backdrop-filter: blur(10px);
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.5);
      transition: background var(--transition-fast),
        transform var(--transition-fast),
        opacity var(--transition-fast);
    }

    .floating-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-1px);
    }

    .floating-btn.hidden {
      opacity: 0;
      pointer-events: none;
      transform: translateY(8px);
    }

    /* å“åº”å¼ */
    @media (max-width: 900px) {
      #hero {
        grid-template-columns: minmax(0, 1fr);
      }
      .hero-card {
        order: -1;
      }
      .wishlist-layout,
      .music-layout,
      .todo-layout,
      .contact-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 640px) {
      .nav-inner {
        flex-wrap: wrap;
      }
      nav ul {
        justify-content: flex-start;
        max-width: 100%;
        overflow-x: auto;
      }
      main {
        padding: 82px 10px 70px;
      }
      .section {
        padding: 16px 12px;
      }
    }
  </style>
</head>
<body>
  <!-- é£˜é›ªå®¹å™¨ -->
  <div class="snow-container" id="snowContainer"></div>

  <!-- ç”»å»Šå¼¹çª— -->
  <div class="lightbox" id="lightbox">
    <div class="lightbox-inner">
      <button class="lightbox-close" id="lightboxClose">å…³é—­ âœ•</button>
      <img src="" alt="Christmas" id="lightboxImg" />
    </div>
  </div>

  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <header>
    <div class="nav-inner">
      <div class="logo">
        <div class="logo-icon">ğŸ„</div>
        <div>
          <div>CHRISTMAS</div>
          <div style="font-size: 10px; opacity: 0.8;">Holiday Wonderland</div>
        </div>
      </div>
      <nav>
        <ul>
          <li><a href="#hero" data-i18n="nav.home">é¦–é¡µ</a></li>
          <li><a href="#countdown" data-i18n="nav.countdown">å€’è®¡æ—¶</a></li>
          <li><a href="#wishlist" data-i18n="nav.wishes">å¿ƒæ„¿å¢™</a></li>
          <li><a href="#timeline" data-i18n="nav.timeline">æ—¥ç¨‹</a></li>
          <li><a href="#gallery" data-i18n="nav.gallery">ç”»å»Š</a></li>
          <li><a href="#music" data-i18n="nav.music">éŸ³ä¹</a></li>
          <li><a href="#todo" data-i18n="nav.todo">å¾…åŠ</a></li>
          <li><a href="#contact" data-i18n="nav.contact">ç•™è¨€</a></li>
        </ul>
      </nav>
      <div class="nav-actions">
        <select id="language-selector" class="chip-btn">
          <option value="zh">ğŸ‡¨ğŸ‡³ ä¸­æ–‡</option>
          <option value="en">ğŸ‡¬ğŸ‡§ English</option>
        </select>
        <button class="chip-btn" id="themeToggle">
          <span>ğŸŒ“</span><span data-i18n="theme.toggle">åˆ‡æ¢ä¸»é¢˜</span>
        </button>
        <button class="chip-btn" id="snowToggle">
          <span>â„ï¸</span><span data-i18n="footer.snow.toggle">å¼€å…³é£˜é›ª</span>
        </button>
      </div>
    </div>
  </header>

  <main>
    <!-- Hero -->
    <section id="hero">
      <div class="hero-text">
        <div class="hero-content">
          <div class="hero-badge">
            <span data-i18n="hero.badge">âœ¨ 2025 åœ£è¯é™å®š Â· å•é¡µå±•ç¤º</span>
          </div>
          <h1 class="hero-title">
            <span data-i18n-html="hero.title.1">åœ£è¯å¿«ä¹</span> Â· <span data-i18n-html="hero.title.2">æ„å»ºä½ çš„èŠ‚æ—¥å¥‡å¢ƒ</span>
          </h1>
          <p class="hero-subtitle" data-i18n="hero.description">
            è¿™æ˜¯ä¸€ä¸ªé›†å€’è®¡æ—¶ã€å¿ƒæ„¿å¢™ã€åœ£è¯æ—¥ç¨‹ã€éŸ³ä¹æ’­æ”¾ã€å¾…åŠæ¸…å•ä¸é£˜é›ªç‰¹æ•ˆäºä¸€ä½“çš„åœ£è¯å•é¡µç¤ºä¾‹ï¼Œ
            å¯ç›´æ¥ç”¨äºç»ƒä¹ ã€æ”¹é€ æˆ–ä½œä¸ºé¡¹ç›®æ¨¡ç‰ˆã€‚
          </p>
          <div class="hero-actions">
            <button class="btn" data-scroll="#countdown">
              <span class="btn-icon">ğŸ…</span><span data-i18n="hero.btn.countdown">æŸ¥çœ‹å€’è®¡æ—¶</span>
            </button>
            <button class="btn secondary" data-scroll="#wishlist">
              <span class="btn-icon">ğŸ’Œ</span><span data-i18n="hero.btn.wishes">å†™ä¸‹åœ£è¯å¿ƒæ„¿</span>
            </button>
            <button class="btn ghost" data-scroll="#gallery">
              <span class="btn-icon">ğŸ“¸</span><span data-i18n="hero.btn.gallery">çœ‹çœ‹æ°›å›´å›¾</span>
            </button>
          </div>
          <div class="hero-meta">
            <span><span class="hero-meta-dot"></span> <span data-i18n="hero.meta.countdown">å®æ—¶æ›´æ–°å€’è®¡æ—¶</span></span>
            <span data-i18n="hero.meta.localstorage">ğŸ’¾ æ•°æ®æœ¬åœ°ä¿å­˜ï¼ˆlocalStorageï¼‰</span>
            <span data-i18n="hero.meta.snowflake">â„ï¸ åŠ¨æ€é£˜é›ªç‰¹æ•ˆå¯å¼€å…³</span>
          </div>
        </div>
      </div>

      <div class="hero-card">
        <div class="hero-card-inner">
          <div class="hero-card-row">
            <div class="hero-card-left">
              <h2>Santaâ€™s Cozy Corner</h2>
              <p data-i18n="card.title">ç‚¹äº®åœ£è¯æ ‘çš„ç¯å…‰ï¼Œå†™ä¸‹ä½ çš„å¿ƒæ„¿ï¼Œè€å¿ƒç­‰å¾…å¥‡è¿¹åˆ°æ¥ âœ¨</p>
            </div>
            <div class="tree" id="tree">
              <div class="tree-layer"></div>
              <div class="tree-layer"></div>
              <div class="tree-layer"></div>
              <div class="tree-trunk"></div>
              <div class="tree-star">â­</div>
              <!-- è£…é¥°ç¯æ³¡ -->
              <div class="tree-light"></div>
              <div class="tree-light"></div>
              <div class="tree-light"></div>
              <div class="tree-light"></div>
              <div class="tree-light"></div>
            </div>
          </div>
          <div class="hero-card-footer">
            <div class="hero-mini-badges">
              <div class="mini-badge">ğŸ ç¤¼ç‰©çµæ„Ÿ</div>
              <div class="mini-badge">ğŸµ æ°›å›´éŸ³ä¹</div>
              <div class="mini-badge">ğŸ“… èŠ‚æ—¥æ—¥ç¨‹</div>
            </div>
            <div style="font-size: 11px; text-align: right;">
              ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®å³å¯å¿«é€Ÿè·³è½¬åˆ°å¯¹åº”åŒºåŸŸ
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- å€’è®¡æ—¶ -->
    <section class="section" id="countdown">
      <div class="section-header">
        <div class="section-title">
          <span>â³</span> <span data-i18n="countdown.title">åœ£è¯å€’è®¡æ—¶</span>
        </div>
        <div class="section-subtitle">
          è®©æˆ‘ä»¬ä¸€èµ·ç­‰å¾… 12 æœˆ 25 æ—¥çš„é’Ÿå£°æ•²å“
        </div>
      </div>

      <div class="countdown-grid">
        <div class="countdown-item">
          <div class="countdown-number" id="days">00</div>
          <div class="countdown-label" data-i18n="countdown.days">å¤©</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" id="hours">00</div>
          <div class="countdown-label" data-i18n="countdown.hours">å°æ—¶</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" id="minutes">00</div>
          <div class="countdown-label" data-i18n="countdown.minutes">åˆ†é’Ÿ</div>
        </div>
        <div class="countdown-item">
          <div class="countdown-number" id="seconds">00</div>
          <div class="countdown-label" data-i18n="countdown.seconds">ç§’</div>
        </div>
      </div>
      <div class="countdown-footer" id="countdownInfo">
        <span data-i18n="countdown.loading">æ­£åœ¨è®¡ç®—è·ç¦»åœ£è¯èŠ‚çš„æ—¶é—´â€¦</span>
      </div>
    </section>

    <!-- å¿ƒæ„¿å¢™ -->
    <section class="section" id="wishlist">
      <div class="section-header">
        <div class="section-title">
          <span>ğŸ’Œ</span> <span data-i18n="wishes.title">åœ£è¯å¿ƒæ„¿å¢™</span>
        </div>
        <div class="section-subtitle">
          <span data-i18n="wishes.subtitle">æŠŠä½ çš„æ„¿æœ›å†™ä¸‹æ¥ï¼Œæˆ–è®¸åœ£è¯è€äººä¼šè·¯è¿‡è¿™é‡Œ ğŸ‘€</span>
        </div>
      </div>

      <div class="wishlist-layout">
        <form class="wishlist-form" id="wishlistForm">
          <div class="form-row">
            <label for="wishName">ä½ çš„æ˜µç§°</label>
            <input id="wishName" type="text" placeholder="ä¾‹å¦‚ï¼šå°æ˜ / Emily" required />
          </div>
          <div class="form-row">
            <label for="wishContent">æˆ‘çš„åœ£è¯æ„¿æœ›</label>
            <textarea id="wishContent" placeholder="å†™ä¸‹ä½ æƒ³è¦çš„ç¤¼ç‰©ã€æƒ³å®ç°çš„ç›®æ ‡æˆ–è€…æƒ³å¯¹è°è¯´çš„è¯â€¦" required></textarea>
          </div>
          <div class="form-row form-row-inline">
            <div class="toggle-group">
              <label for="wishType">ä»Šå¹´æˆ‘æ˜¯ï¼š</label>
              <select id="wishType">
                <option value="nice">ä¹–å­©å­ ğŸ˜‡</option>
                <option value="naughty">è°ƒçš®é¬¼ ğŸ˜ˆ</option>
              </select>
            </div>
            <div class="toggle-group">
              <input type="checkbox" id="wishPrivate" />
              <label for="wishPrivate">ä»…è‡ªå·±å¯è§ï¼ˆåªä¿å­˜åœ¨æœ¬åœ°ï¼‰</label>
            </div>
          </div>
          <div style="display: flex; gap: 8px;">
            <button class="btn" type="submit">
              <span class="btn-icon">âœ¨</span><span>æäº¤å¿ƒæ„¿</span>
            </button>
            <button class="btn ghost" type="button" id="clearWishes">
              æ¸…ç©ºå¿ƒæ„¿
            </button>
          </div>
        </form>

        <div>
          <div style="font-size: 13px; margin-bottom: 6px;">
            æœ€æ–°å¿ƒæ„¿ âœ¨ï¼ˆä»…ä¿å­˜åœ¨ä½ çš„æµè§ˆå™¨ä¸­ï¼‰
          </div>
          <div class="wishlist-list" id="wishlistList">
            <!-- åŠ¨æ€æ¸²æŸ“ -->
          </div>
        </div>
      </div>
    </section>

    <!-- åœ£è¯æ—¥ç¨‹æ—¶é—´çº¿ -->
    <section class="section" id="timeline">
      <div class="section-header">
        <div class="section-title">
          <span>ğŸ“…</span> <span data-i18n="timeline.title">åœ£è¯èŠ‚å‰çš„å°è®¡åˆ’</span>
        </div>
        <div class="section-subtitle">
          å®‰æ’å¥½æ¯ä¸€ä¸ªæš–æ´‹æ´‹çš„ç¬é—´
        </div>
      </div>

      <div class="timeline">
        <div class="timeline-item">
          <div class="timeline-bullet"></div>
          <div class="timeline-title">12 æœˆä¸Šæ—¬ Â· è¥é€ æ°›å›´</div>
          <div class="timeline-meta">å¸ƒç½®æˆ¿é—´ Â· ç‚¹äº®åœ£è¯æ ‘ Â· é€‰å¥½åœ£è¯æ­Œå•</div>
          <div class="timeline-desc">
            å¯ä»¥å…ˆä»æ¢ä¸ªæ¡Œé¢ã€æŒ‚å½©ç¯ã€æ‘†ä¸ªå°æ ‘å¼€å§‹ï¼Œæ…¢æ…¢è®©ç”Ÿæ´»è¿›å…¥åœ£è¯æ¨¡å¼ã€‚
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-bullet"></div>
          <div class="timeline-title">12 æœˆä¸­æ—¬ Â· å‡†å¤‡ç¤¼ç‰©</div>
          <div class="timeline-meta">ä¸ºè‡ªå·± & ä¸ºé‡è¦çš„äººå‡†å¤‡ä¸€äº›å°æƒŠå–œ</div>
          <div class="timeline-desc">
            ä¸ä¸€å®šè¦å¤šè´µé‡ï¼Œä¸€å°æ‰‹å†™å¡ç‰‡ã€ä¸€å¼ ç…§ç‰‡ã€æœ‰è®°å¿†çš„ç‰©ä»¶ï¼Œå¾€å¾€æ›´æ‰“åŠ¨äººã€‚
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-bullet"></div>
          <div class="timeline-title">12 æœˆ 24 æ—¥ Â· å¹³å®‰å¤œ</div>
          <div class="timeline-meta">å¤œå®µ Â· ç”µå½± Â· å€’æ•°è®¡æ—¶</div>
          <div class="timeline-desc">
            å¯ä»¥å®‰æ’ä¸€åœºæ¸©é¦¨çš„ç”µå½±å¤œï¼Œæ­é…çƒ­å¯å¯ï¼Œå’Œæœ‹å‹/å®¶äºº/è‡ªå·±å¥½å¥½æ”¾æ¾ã€‚
          </div>
        </div>
        <div class="timeline-item">
          <div class="timeline-bullet"></div>
          <div class="timeline-title">12 æœˆ 25 æ—¥ Â· åœ£è¯èŠ‚</div>
          <div class="timeline-meta">æ‹†ç¤¼ç‰© Â· æ‹ç…§ç‰‡ Â· è®°å½•ä¸€å¹´æœ€åçš„æ¸©æš–</div>
          <div class="timeline-desc">
            åˆ«å¿˜äº†æ‹å‡ å¼ â€œä»Šå¹´çš„åœ£è¯ç…§â€ï¼Œæœªæ¥ç¿»åˆ°æ—¶ï¼Œä¼šè§‰å¾—ä»Šå¤©çœŸå¥½ã€‚
          </div>
        </div>
      </div>
    </section>

    <!-- ç”»å»Š -->
    <section class="section" id="gallery">
      <div class="section-header">
        <div class="section-title">
          <span>ğŸ“¸</span> <span data-i18n="gallery.title">åœ£è¯æ°›å›´å›¾é›†</span>
        </div>
        <div class="section-subtitle">
          è¿™äº›å›¾ç‰‡åœ°å€å¯ä»¥æ›¿æ¢æˆä½ è‡ªå·±çš„ç´ æ
        </div>
      </div>

      <div class="gallery-grid">
        <div
          class="gallery-item"
          data-label="æ¸©æš–å®¢å… Â· Hot Cocoa"
          data-src="https://images.unsplash.com/photo-1543589077-47d81606c1bf?auto=format&fit=crop&w=1200&q=80"
        >
          <img
            src="https://images.unsplash.com/photo-1543589077-47d81606c1bf?auto=format&fit=crop&w=600&q=60"
            alt="Christmas"
          />
        </div>
        <div
          class="gallery-item"
          data-label="åœ£è¯æ ‘ Â· Night Lights"
          data-src="https://images.unsplash.com/photo-1512389142860-9c449e58a543?auto=format&fit=crop&w=1200&q=80"
        >
          <img
            src="https://images.unsplash.com/photo-1512389142860-9c449e58a543?auto=format&fit=crop&w=600&q=60"
            alt="Christmas Tree"
          />
        </div>
        <div
          class="gallery-item"
          data-label="äº¤æ¢ç¤¼ç‰© Â· Gift Time"
          data-src="https://images.unsplash.com/photo-1512922124720-5166f2b3333f?auto=format&fit=crop&w=1200&q=80"
        >
          <img
            src="https://images.unsplash.com/photo-1512922124720-5166f2b3333f?auto=format&fit=crop&w=600&q=60"
            alt="Gifts"
          />
        </div>
        <div
          class="gallery-item"
          data-label="é›ªå¤œè¡—é“ Â· Winter Street"
          data-src="https://images.unsplash.com/photo-1511117833895-4b473c0b1ca2?auto=format&fit=crop&w=1200&q=80"
        >
          <img
            src="https://images.unsplash.com/photo-1511117833895-4b473c0b1ca2?auto=format&fit=crop&w=600&q=60"
            alt="Street"
          />
        </div>
        <div
          class="gallery-item"
          data-label="å§œé¥¼å±‹ Â· Gingerbread"
          data-src="https://images.unsplash.com/photo-1544207240-42884e7fd55e?auto=format&fit=crop&w=1200&q=80"
        >
          <img
            src="https://images.unsplash.com/photo-1544207240-42884e7fd55e?auto=format&fit=crop&w=600&q=60"
            alt="Gingerbread"
          />
        </div>
        <div
          class="gallery-item"
          data-label="å¯çˆ±é¹¿è§’ Â· Reindeer"
          data-src="https://images.unsplash.com/photo-1543709530-dcac245be8c6?auto=format&fit=crop&w=1200&q=80"
        >
          <img
            src="https://images.unsplash.com/photo-1543709530-dcac245be8c6?auto=format&fit=crop&w=600&q=60"
            alt="Reindeer"
          />
        </div>
      </div>
    </section>

    <!-- éŸ³ä¹ -->
    <section class="section" id="music">
      <div class="section-header">
        <div class="section-title">
          <span>ğŸµ</span> åœ£è¯æ­Œå•
        </div>
        <div class="section-subtitle">
          è¿™é‡Œç¤ºèŒƒä¸€ä¸ªç®€å•çš„æœ¬åœ°éŸ³ä¹æ’­æ”¾å™¨ï¼Œä½ å¯ä»¥æ›¿æ¢ä¸ºè‡ªå·±çš„ mp3 é“¾æ¥
        </div>
      </div>

      <div class="music-layout">
        <div class="playlist" id="playlist">
          <!-- ç”¨ JS åŠ¨æ€æ³¨å…¥æ­Œæ›²åˆ—è¡¨ -->
        </div>
        <div class="music-player">
          <div class="music-player-title">
            å½“å‰æ’­æ”¾ï¼š<span id="currentSongTitle">æ— </span>
          </div>
          <div style="font-size: 11px; color: var(--text-muted);">
            æç¤ºï¼šå‡ºäºç¤ºä¾‹åŸå› ï¼Œè¿™é‡Œé»˜è®¤ä½¿ç”¨å ä½åœ°å€ï¼Œä½ å¯ä»¥åœ¨ JS é‡ŒæŠŠæ­Œæ›²é“¾æ¥æ›¿æ¢æˆè‡ªå·±çš„ mp3ã€‚
          </div>
          <audio controls id="audioPlayer">
            <source src="" type="audio/mpeg" />
            æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒ audio æ ‡ç­¾ã€‚
          </audio>
        </div>
      </div>
    </section>

    <!-- å¾…åŠæ¸…å• -->
    <section class="section" id="todo">
      <div class="section-header">
        <div class="section-title">
          <span>âœ…</span> <span data-i18n="todo.title">åœ£è¯å¾…åŠæ¸…å•</span>
        </div>
        <div class="section-subtitle">
          æŠŠè¦åšçš„äº‹æ’ä¸€æ’ï¼Œå°±ä¸ä¼šå¿˜è®°å•¦
        </div>
      </div>

      <div class="todo-layout">
        <div>
          <div style="font-size: 13px;">æ–°å¢ä¸€æ¡å¾…åŠ</div>
          <div class="todo-input">
            <input id="todoInput" type="text" placeholder="ä¾‹å¦‚ï¼šç»™æœ‹å‹å†™åœ£è¯å¡ç‰‡" />
            <button class="btn" type="button" id="addTodoBtn">æ·»åŠ </button>
          </div>
          <div style="margin-top: 6px; display: flex; gap: 6px;">
            <button class="btn ghost" type="button" id="clearDoneTodos">
              æ¸…é™¤å·²å®Œæˆ
            </button>
            <button class="btn ghost" type="button" id="clearAllTodos">
              æ¸…ç©ºå…¨éƒ¨
            </button>
          </div>
        </div>
        <div>
          <div style="font-size: 13px; margin-bottom: 6px;">
            æˆ‘çš„åœ£è¯ä»»åŠ¡ï¼š
          </div>
          <div class="todo-list" id="todoList">
            <!-- JS æ³¨å…¥ -->
          </div>
        </div>
      </div>
    </section>

    <!-- è”ç³» / ç•™è¨€ -->
    <section class="section" id="contact">
      <div class="section-header">
        <div class="section-title">
          <span>ğŸ“®</span> <span data-i18n="contact.title">ç•™ä¸‹ä½ çš„ç¥ç¦</span>
        </div>
        <div class="section-subtitle">
          å¯ç”¨ä½œâ€œè”ç³»æˆ‘â€â€œç•™è¨€æ¿â€ç­‰åŒºåŸŸ
        </div>
      </div>

      <div class="contact-grid">
        <div>
          <div class="contact-note">
            ä½ å¯ä»¥æŠŠè¿™é‡Œæ‰©å±•æˆçœŸæ­£çš„è¡¨å•ï¼ˆé€šè¿‡åç«¯æˆ–ç¬¬ä¸‰æ–¹è¡¨å•æœåŠ¡æäº¤ï¼‰ï¼Œ
            å½“å‰ç¤ºä¾‹ä»…åšé™æ€å±•ç¤ºï¼šåŒ…æ‹¬å§“åã€é‚®ç®±å’Œæƒ³è¯´çš„è¯ç­‰ã€‚
          </div>
          <div class="wishlist-form" style="margin-top: 8px;">
            <div class="form-row">
              <label>å§“å / Name</label>
              <input type="text" placeholder="Your name" />
            </div>
            <div class="form-row">
              <label>é‚®ç®± / Email</label>
              <input type="text" placeholder="you@example.com" />
            </div>
            <div class="form-row">
              <label>æƒ³è¯´çš„è¯ / Message</label>
              <textarea placeholder="åœ¨è¿™é‡Œå†™ä¸‹ä½ çš„åœ£è¯ç¥ç¦æˆ–æ„Ÿæƒ³ï½"></textarea>
            </div>
            <button class="btn" type="button">
              ç›®å‰æ˜¯é™æ€æŒ‰é’®ï¼ˆç¤ºä¾‹ï¼‰
            </button>
          </div>
        </div>
        <div>
          <div style="font-size: 13px;">é¡µé¢ç‰¹ç‚¹å°ç»“ï¼š</div>
          <div class="contact-highlights">
            <div class="highlight-card">
              ğŸ„ ä½¿ç”¨
              <strong>åŸç”Ÿ HTML / CSS / JS</strong>
              ï¼Œæ— éœ€ä»»ä½•ç¬¬ä¸‰æ–¹åº“ã€‚
            </div>
            <div class="highlight-card">
              ğŸ’¾ å¿ƒæ„¿å¢™ & å¾…åŠæ¸…å•æ•°æ®ä½¿ç”¨
              <strong>localStorage</strong>
              æŒä¹…åŒ–ï¼Œåˆ·æ–°é¡µé¢ä¸ä¼šä¸¢å¤±ã€‚
            </div>
            <div class="highlight-card">
              â„ï¸ è‡ªå¸¦
              <strong>é£˜é›ªç‰¹æ•ˆ + ä¸»é¢˜åˆ‡æ¢ + å¹³æ»‘æ»šåŠ¨ + è¿”å›é¡¶éƒ¨</strong>
              ç­‰äº¤äº’ï¼Œå¯æŒ‰éœ€åˆ å‡æˆ–æ”¹é€ ã€‚
            </div>
            <div class="highlight-card">
              ğŸ”§ ä½ å¯ä»¥å¾ˆæ–¹ä¾¿åœ°æ”¹æˆ React / Vue æˆ–æ‹†åˆ†æˆç»„ä»¶ï¼Œç”¨äºæ›´å¤§çš„é¡¹ç›®ã€‚
            </div>
          </div>
        </div>
      </div>
    </section>

    <footer>
      Â© <span id="year"></span> Christmas Wonderland Â· <span data-i18n="footer.copyright">ç¥ä½ åœ£è¯å¿«ä¹ï¼Œå¤©å¤©éƒ½æœ‰å¥½å¿ƒæƒ… ğŸ</span>
    </footer>
  </main>

  <!-- æµ®åŠ¨å·¥å…·æŒ‰é’® -->
  <div class="floating-tools">
    <button class="floating-btn hidden" id="backToTop">
      <span data-i18n="footer.backtotop">â¬†ï¸ è¿”å›é¡¶éƒ¨</span>
    </button>
  </div>

  <script>
    // å·¥å…·å‡½æ•°ï¼šæœ¬åœ°å­˜å‚¨
    const storage = {
      get(key, defaultValue) {
        try {
          const raw = localStorage.getItem(key);
          if (!raw) return defaultValue;
          return JSON.parse(raw);
        } catch (e) {
          return defaultValue;
        }
      },
      set(key, value) {
        try {
          localStorage.setItem(key, JSON.stringify(value));
        } catch (e) {
          console.warn("localStorage error:", e);
        }
      }
    };

    // 1. åœ£è¯å€’è®¡æ—¶
    function updateCountdown() {
      const now = new Date();
      let year = now.getFullYear();
      let christmas = new Date(year, 11, 25, 0, 0, 0); // 12 ä¸º 11 (0-based)
      if (now > christmas) {
        christmas = new Date(year + 1, 11, 25, 0, 0, 0);
      }
      const diff = christmas - now;
      const sec = Math.floor(diff / 1000);
      if (sec <= 0) {
        document.getElementById("countdownInfo").textContent =
          "åœ£è¯èŠ‚åˆ°äº†ï¼ç¥ä½ åœ£è¯å¿«ä¹ ğŸ„";
        ["days", "hours", "minutes", "seconds"].forEach((id) => {
          document.getElementById(id).textContent = "00";
        });
        return;
      }
      const d = Math.floor(sec / (3600 * 24));
      const h = Math.floor((sec % (3600 * 24)) / 3600);
      const m = Math.floor((sec % 3600) / 60);
      const s = sec % 60;
      document.getElementById("days").textContent = String(d).padStart(2, "0");
      document.getElementById("hours").textContent = String(h).padStart(2, "0");
      document.getElementById("minutes").textContent = String(m).padStart(2, "0");
      document.getElementById("seconds").textContent = String(s).padStart(2, "0");

      const yearTarget = christmas.getFullYear();
      document.getElementById("countdownInfo").textContent =
        `è·ç¦» ${yearTarget} å¹´åœ£è¯èŠ‚ï¼ˆ12 æœˆ 25 æ—¥ï¼‰è¿˜æœ‰ ${d} å¤© ${h} å°æ—¶ ${m} åˆ†é’Ÿ`;
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    // 2. Hero æŒ‰é’®å¹³æ»‘æ»šåŠ¨
    document.querySelectorAll("[data-scroll], header nav a").forEach((el) => {
      el.addEventListener("click", (e) => {
        const target = el.getAttribute("data-scroll") || el.getAttribute("href");
        if (!target || !target.startsWith("#")) return;
        e.preventDefault();
        const section = document.querySelector(target);
        if (section) {
          section.scrollIntoView({ behavior: "smooth", block: "start" });
        }
      });
    });

    // 3. é£˜é›ªæ•ˆæœ
    const snowContainer = document.getElementById("snowContainer");
    let snowEnabled = true;
    function createSnowflakes() {
      const count = 70;
      snowContainer.innerHTML = "";
      const symbols = ["â„", "â…", "âœ¦", "âœ§"];
      for (let i = 0; i < count; i++) {
        const span = document.createElement("div");
        span.className = "snowflake";
        span.textContent = symbols[Math.floor(Math.random() * symbols.length)];
        const size = 10 + Math.random() * 14;
        span.style.fontSize = size + "px";
        span.style.left = Math.random() * 100 + "vw";
        const duration = 9 + Math.random() * 9;
        span.style.animationDuration = duration + "s";
        span.style.animationDelay = Math.random() * 10 + "s";
        span.style.setProperty("--x-move", (Math.random() * 60 - 30) + "px");
        snowContainer.appendChild(span);
      }
    }
    createSnowflakes();

    document.getElementById("snowToggle").addEventListener("click", () => {
      snowEnabled = !snowEnabled;
      snowContainer.style.display = snowEnabled ? "block" : "none";
    });

    // 4. è¿”å›é¡¶éƒ¨æŒ‰é’® & æ»šåŠ¨ç›‘å¬
    const backToTopBtn = document.getElementById("backToTop");
    window.addEventListener("scroll", () => {
      if (window.scrollY > 400) {
        backToTopBtn.classList.remove("hidden");
      } else {
        backToTopBtn.classList.add("hidden");
      }
    });
    backToTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    // 5. ä¸»é¢˜åˆ‡æ¢
    const themeToggleBtn = document.getElementById("themeToggle");
    const THEME_KEY = "christmas-theme";
    function applyTheme(theme) {
      if (theme === "dark") {
        document.body.classList.add("dark-theme");
      } else {
        document.body.classList.remove("dark-theme");
      }
    }
    const storedTheme = storage.get(THEME_KEY, "dark");
    applyTheme(storedTheme);
    themeToggleBtn.addEventListener("click", () => {
      const isDark = document.body.classList.toggle("dark-theme");
      storage.set(THEME_KEY, isDark ? "dark" : "light");
    });

    // 6. å¿ƒæ„¿å¢™
    const WISH_KEY = "christmas-wishes";
    const wishlistForm = document.getElementById("wishlistForm");
    const wishlistList = document.getElementById("wishlistList");
    const clearWishesBtn = document.getElementById("clearWishes");

    function renderWishes() {
      const wishes = storage.get(WISH_KEY, []);
      wishlistList.innerHTML = "";
      if (!wishes.length) {
        wishlistList.innerHTML =
          '<div style="font-size:12px; color:var(--text-muted);">è¿˜æ²¡æœ‰å¿ƒæ„¿ï¼Œå¿«æ¥å†™ä¸‹ç¬¬ä¸€ä¸ªå§ âœ¨</div>';
        return;
      }
      wishes.slice().reverse().forEach((wish) => {
        const card = document.createElement("div");
        card.className = "wish-card";
        const header = document.createElement("div");
        header.className = "wish-header";
        const name = document.createElement("div");
        name.className = "wish-name";
        name.textContent = wish.name || "åŒ¿å";
        const badge = document.createElement("div");
        badge.className = "wish-badge " + (wish.type === "naughty" ? "naughty" : "");
        badge.textContent = wish.type === "naughty" ? "è°ƒçš®é¬¼ ğŸ˜ˆ" : "ä¹–å­©å­ ğŸ˜‡";
        header.appendChild(name);
        header.appendChild(badge);
        const text = document.createElement("div");
        text.className = "wish-text";
        text.textContent = wish.content;
        const time = document.createElement("div");
        time.className = "wish-time";
        time.textContent = wish.time;
        card.appendChild(header);
        card.appendChild(text);
        card.appendChild(time);
        wishlistList.appendChild(card);
      });
    }

    wishlistForm.addEventListener("submit", (e) => {
      e.preventDefault();
      const name = document.getElementById("wishName").value.trim();
      const content = document.getElementById("wishContent").value.trim();
      const type = document.getElementById("wishType").value;
      const isPrivate = document.getElementById("wishPrivate").checked;
      if (!content) return;
      const wishes = storage.get(WISH_KEY, []);
      wishes.push({
        name,
        content,
        type,
        isPrivate,
        time: new Date().toLocaleString()
      });
      storage.set(WISH_KEY, wishes);
      wishlistForm.reset();
      renderWishes();
    });

    clearWishesBtn.addEventListener("click", () => {
      if (confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å·²ä¿å­˜çš„å¿ƒæ„¿å—ï¼Ÿï¼ˆä»…æœ¬åœ°å­˜å‚¨ï¼‰")) {
        storage.set(WISH_KEY, []);
        renderWishes();
      }
    });

    renderWishes();

    // 7. ç®€å•éŸ³ä¹æ’­æ”¾å™¨
    const songs = [
      {
        title: "Jingle Bells (Demo)",
        artist: "Your Artist",
        tag: "ç»å…¸ Â· æ¬¢å¿«",
        url: "" // åœ¨è¿™é‡Œå¡«ä½ è‡ªå·±çš„ mp3 åœ°å€
      },
      {
        title: "Silent Night (Demo)",
        artist: "Your Artist",
        tag: "å®‰é™ Â· æ¸©æŸ”",
        url: ""
      },
      {
        title: "We Wish You a Merry Christmas (Demo)",
        artist: "Your Artist",
        tag: "åˆå”± Â· æ°›å›´",
        url: ""
      }
    ];

    const playlistEl = document.getElementById("playlist");
    const audioPlayer = document.getElementById("audioPlayer");
    const currentSongTitleEl = document.getElementById("currentSongTitle");
    let currentIndex = 0;

    function renderPlaylist() {
      playlistEl.innerHTML = "";
      songs.forEach((song, index) => {
        const div = document.createElement("div");
        div.className = "song" + (index === currentIndex ? " active" : "");
        const main = document.createElement("div");
        main.className = "song-main";
        const title = document.createElement("div");
        title.className = "song-title";
        title.textContent = song.title;
        const artist = document.createElement("div");
        artist.className = "song-artist";
        artist.textContent = song.artist;
        main.appendChild(title);
        main.appendChild(artist);
        const tag = document.createElement("div");
        tag.className = "song-tag";
        tag.textContent = song.tag;
        div.appendChild(main);
        div.appendChild(tag);
        div.addEventListener("click", () => playSong(index));
        playlistEl.appendChild(div);
      });
    }

    function playSong(index) {
      currentIndex = index;
      const song = songs[index];
      renderPlaylist();
      currentSongTitleEl.textContent = song.title || "è‡ªå®šä¹‰æ­Œæ›²";
      if (song.url) {
        audioPlayer.src = song.url;
        audioPlayer.play().catch(() => {});
      } else {
        audioPlayer.pause();
        audioPlayer.currentTime = 0;
        alert("è¿™æ˜¯ç¤ºä¾‹æ­Œæ›²ã€‚è¯·åœ¨ JS ä»£ç ä¸­çš„ songs æ•°ç»„é‡Œå¡«å…¥ä½ è‡ªå·±çš„ mp3 åœ°å€ã€‚");
      }
    }

    renderPlaylist();
    currentSongTitleEl.textContent = "ç‚¹å‡»å·¦ä¾§æ­Œæ›²å¼€å§‹æ’­æ”¾";

    // 8. å¾…åŠæ¸…å•
    const TODO_KEY = "christmas-todos";
    const todoInput = document.getElementById("todoInput");
    const addTodoBtn = document.getElementById("addTodoBtn");
    const todoListEl = document.getElementById("todoList");
    const clearDoneTodosBtn = document.getElementById("clearDoneTodos");
    const clearAllTodosBtn = document.getElementById("clearAllTodos");

    function renderTodos() {
      const todos = storage.get(TODO_KEY, []);
      todoListEl.innerHTML = "";
      if (!todos.length) {
        todoListEl.innerHTML =
          '<div style="font-size:12px; color:var(--text-muted);">ç›®å‰è¿˜æ²¡æœ‰ä»»åŠ¡ï¼Œå…ˆç»™è‡ªå·±å®‰æ’ä¸€ä¸ªå°ç›®æ ‡å§ ğŸ¯</div>';
        return;
      }
      todos.forEach((todo, index) => {
        const item = document.createElement("div");
        item.className = "todo-item" + (todo.done ? " done" : "");
        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = todo.done;
        checkbox.addEventListener("change", () => {
          const t = storage.get(TODO_KEY, []);
          if (t[index]) {
            t[index].done = !t[index].done;
            storage.set(TODO_KEY, t);
            renderTodos();
          }
        });
        const text = document.createElement("div");
        text.textContent = todo.text;
        text.style.flex = "1";
        const delBtn = document.createElement("button");
        delBtn.textContent = "åˆ é™¤";
        delBtn.addEventListener("click", () => {
          const t = storage.get(TODO_KEY, []);
          t.splice(index, 1);
          storage.set(TODO_KEY, t);
          renderTodos();
        });
        item.appendChild(checkbox);
        item.appendChild(text);
        item.appendChild(delBtn);
        todoListEl.appendChild(item);
      });
    }

    function addTodo() {
      const text = todoInput.value.trim();
      if (!text) return;
      const todos = storage.get(TODO_KEY, []);
      todos.push({ text, done: false });
      storage.set(TODO_KEY, todos);
      todoInput.value = "";
      renderTodos();
    }

    addTodoBtn.addEventListener("click", addTodo);
    todoInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        addTodo();
      }
    });

    clearDoneTodosBtn.addEventListener("click", () => {
      const todos = storage.get(TODO_KEY, []);
      const filtered = todos.filter((t) => !t.done);
      storage.set(TODO_KEY, filtered);
      renderTodos();
    });

    clearAllTodosBtn.addEventListener("click", () => {
      if (confirm("ç¡®å®šè¦æ¸…ç©ºæ‰€æœ‰å¾…åŠå—ï¼Ÿ")) {
        storage.set(TODO_KEY, []);
        renderTodos();
      }
    });

    renderTodos();

    // 9. ç”»å»Šå¼¹çª—
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightboxImg");
    const lightboxClose = document.getElementById("lightboxClose");

    document.querySelectorAll(".gallery-item").forEach((item) => {
      item.addEventListener("click", () => {
        const src = item.getAttribute("data-src");
        if (!src) return;
        lightboxImg.src = src;
        lightbox.classList.add("active");
      });
    });

    lightboxClose.addEventListener("click", () => {
      lightbox.classList.remove("active");
      lightboxImg.src = "";
    });

    lightbox.addEventListener("click", (e) => {
      if (e.target === lightbox) {
        lightbox.classList.remove("active");
        lightboxImg.src = "";
      }
    });

    // 10. é¡µè„šå¹´ä»½
    document.getElementById("year").textContent = new Date().getFullYear();

    // 11. Language switcher
    const languageSelector = document.getElementById("language-selector");
    if (languageSelector) {
      languageSelector.addEventListener("change", (e) => {
        i18n.setLanguage(e.target.value);
      });
    }
  </script>
</body>
</html>
